@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix shui: <http://www.w3.org/ns/shacl-ui#> .

#
# Generic shapes
#
shui:isBoolean a sh:NodeShape ;
    sh:datatype xsd:boolean ;
.

shui:isIRI a sh:NodeShape ;
    sh:nodeKind sh:IRI ;
.

shui:isNotIRI a sh:NodeShape ;
    sh:nodeKind (sh:BlankNode sh:TripleTerm sh:Literal) ;
.

shui:isBlankNode a sh:NodeShape ;
    sh:nodeKind sh:BlankNode ;
.

shui:isLiteral a sh:NodeShape ;
    sh:nodeKind sh:Literal ;
.

shui:isNotBlankNode a sh:NodeShape ;
    sh:nodeKind (sh:IRI sh:TripleTerm sh:Literal) ;
.

shui:isDate a sh:NodeShape ;
    sh:datatype xsd:date ;
.

shui:isHTML a sh:NodeShape ;
    sh:datatype rdf:HTML ;
.

shui:isNotHTML a sh:NodeShape ;
    sh:not shui:isHTML ;
.

shui:isNotLangString a sh:NodeShape ;
    sh:not shui:isLangString ;
.

shui:isNotBoolean a sh:NodeShape ;
    sh:not shui:isBoolean ;
.

shui:isDateTime a sh:NodeShape ;
    sh:datatype xsd:dateTime ;
.

shui:isString a sh:NodeShape ;
    sh:datatype xsd:string ;
.

shui:isLangString a sh:NodeShape ;
    sh:datatype rdf:langString ;
.

shui:isNotLiteral a sh:NodeShape ;
    sh:nodeKind (sh:BlankNode sh:IRI sh:TripleTerm) ;
.

shui:hasDatatype a sh:NodeShape ;
    sh:property [
      sh:path sh:datatype ;
      sh:minCount 1
    ] ;
.

shui:hasCustomDatatype a sh:NodeShape ;
    sh:property [
      sh:path sh:datatype ;
      sh:minCount 1 ;
      sh:not [
        sh:in (
          xsd:string xsd:boolean xsd:decimal xsd:integer
          xsd:double xsd:float xsd:date xsd:time xsd:dateTime
          xsd:dateTimeStamp xsd:anyURI
          rdf:langString rdf:HTML rdf:XMLLiteral
        )
      ]
    ] ;
.

shui:allowsString a sh:NodeShape ;
    sh:property [
      sh:path sh:datatype ;
      sh:hasValue xsd:string
    ] ;
.

shui:allowsLangString a sh:NodeShape ;
    sh:property [
      sh:path sh:datatype ;
      sh:hasValue rdf:langString
    ] ;
.


shui:hasNotSingleLineFalse a sh:NodeShape ;
    sh:property [
      sh:path sh:singleLine ;
      sh:not [
        sh:hasValue false
      ]
    ] ;
.

shui:hasSingleLineTrue a sh:NodeShape ;
    sh:property [
      sh:path sh:singleLine ;
      sh:hasValue true
    ] ;
.

shui:hasSingleLineFalse a sh:NodeShape ;
    sh:property [
      sh:path sh:singleLine ;
      sh:hasValue false
    ] ;
.

shui:hasDateDatatype a sh:NodeShape ;
    sh:property [
      sh:path sh:datatype ;
      sh:in (xsd:date)
    ] ;
.

shui:hasStringDatatype a sh:NodeShape ;
    sh:property [
      sh:path sh:datatype ;
      sh:in (xsd:string)
    ] ;
.

shui:hasRdfHtmlDatatype a sh:NodeShape ;
    sh:property [
      sh:path sh:datatype ;
      sh:in (rdf:HTML)
    ] ;
.

shui:hasNotRdfHtmlDatatype a sh:NodeShape ;
    sh:property [
      sh:path sh:datatype ;
      sh:not [
        sh:in (rdf:HTML)
      ]
    ] ;
.

shui:hasIn a sh:NodeShape ;
    sh:property [
      sh:path sh:in ;
      sh:minCount 1 ;
    ] ;
.

shui:hasNotIn a sh:NodeShape ;
    sh:property [
      sh:path sh:in ;
      sh:maxCount 0 ;
    ] ;
.

shui:hasClass a sh:NodeShape ;
    sh:property [
      sh:path sh:class ;
      sh:minCount 1 ;
    ] ;
.

shui:hasNotClass a sh:NodeShape ;
    sh:property [
      sh:path sh:class ;
      sh:maxCount 0 ;
    ] ;
.

shui:hasDateTimeDatatype a sh:NodeShape ;
    sh:property [
      sh:path sh:datatype ;
      sh:in (xsd:dateTime)
    ] ;
.

shui:literalNoDatatypeSpecified a sh:NodeShape ;
    # The shape must have a sh:nodeKind constraint with the sh:Literal value.
    # This is perhaps too strict?
    sh:property [
      sh:path sh:nodeKind ;
      sh:hasValue sh:Literal ;
    ] ;

    # The shape must not have the sh:datatype constraint.
    sh:property [
      sh:path sh:datatype ;
      sh:maxCount 0
    ] ;
.


shui:hasNoDatatype a sh:NodeShape ;
    sh:property [
      sh:path sh:datatype ;
      sh:maxCount 0
    ] ;
.

#
# shui:AutoCompleteEditor
#
shui:AutoCompleteEditorScore1 a shui:Score ;
    shui:dataGraphShape shui:isIRI ;
    shui:widget shui:AutoCompleteEditor ;
    shui:score 1 ;
.

shui:AutoCompleteEditorScore0 a shui:Score ;
    shui:dataGraphShape shui:isNotIRI ;
    shui:widget shui:AutoCompleteEditor ;
    shui:score 0 ;
.

#
# shui:BlankNodeEditor
#
shui:BlankNodeEditorScore1 a shui:Score ;
    shui:dataGraphShape shui:isBlankNode ;
    shui:widget shui:BlankNodeEditor ;
    shui:score 1 ;
.

shui:BlankNodeEditorScore0 a shui:Score ;
    shui:dataGraphShape shui:isNotBlankNode ;
    shui:widget shui:BlankNodeEditor ;
    shui:score 0 ;
.

#
# shui:BooleanSelectEditor
#
shui:booleanSelectEditorScore10 a shui:Score ;
    shui:dataGraphShape shui:isBoolean ;
    shui:widget shui:BooleanSelectEditor ;
    shui:score 10 ;
.

shui:booleanSelectEditorScore0IsNotLiteral a shui:Score ;
    shui:dataGraphShape shui:isNotLiteral ;
    shui:widget shui:BooleanSelectEditor ;
    shui:score 0 ;
.

shui:booleanSelectEditorScore0hasDatatype a shui:Score ;
    shui:shapesGraphShape shui:hasDatatype ;
    shui:widget shui:BooleanSelectEditor ;
    shui:score 0 ;
.

shui:booleanSelectEditorScoreNull a shui:Score ;
    shui:shapesGraphShape shui:literalNoDatatypeSpecified ;
    shui:widget shui:BooleanSelectEditor ;
    shui:score -1 ;
.

#
# shui:DatePickerEditor
#
shui:datePickerEditorScore10 a shui:Score ;
    shui:dataGraphShape shui:isDate ;
    shui:widget shui:DatePickerEditor ;
    shui:score 10 ;
.

shui:datePickerEditorScore5 a shui:Score ;
    shui:shapesGraphShape shui:hasDateDatatype ;
    shui:widget shui:DatePickerEditor ;
    shui:score 5 ;
.

shui:datePickerEditorScore0 a shui:Score ;
    shui:shapesGraphShape shui:hasNoDatatype ;
    shui:widget shui:DatePickerEditor ;
    shui:score 0 ;
.

#
# shui:DateTimePickerEditor
#
shui:dateTimePickerEditorScore10 a shui:Score ;
    shui:dataGraphShape shui:isDateTime ;
    shui:widget shui:DateTimePickerEditor ;
    shui:score 10 ;
.

shui:dateTimePickerEditorScore5 a shui:Score ;
    shui:shapesGraphShape shui:hasDateTimeDatatype ;
    shui:widget shui:DateTimePickerEditor ;
    shui:score 5 ;
.

shui:dateTimePickerEditorScore0 a shui:Score ;
    shui:shapesGraphShape shui:hasNoDatatype ;
    shui:widget shui:DateTimePickerEditor ;
    shui:score 0 ;
.

#
# shui:DetailsEditor
#
shui:DetailsEditorScoreNull a shui:Score ;
    shui:dataGraphShape shui:isNotLiteral ;
    shui:widget shui:DetailsEditor ;
    shui:score -1 ;
.

shui:DetailsEditorScore0 a shui:Score ;
    shui:dataGraphShape shui:isLiteral ;
    shui:widget shui:DetailsEditor ;
    shui:score 0 ;
.

#
# shui:EnumSelectEditor
#
shui:EnumSelectEditorScore10 a shui:Score ;
    shui:shapesGraphShape shui:hasIn ;
    shui:widget shui:EnumSelectEditor ;
    shui:score 10 ;
.

shui:EnumSelectEditorScore0 a shui:Score ;
    shui:shapesGraphShape shui:hasNotIn ;
    shui:widget shui:EnumSelectEditor ;
    shui:score 0 ;
.

#
# shui:InstancesSelectEditor
#
shui:InstancesSelectEditorScoreNull a shui:Score ;
    shui:shapesGraphShape shui:hasClass ;
    shui:widget shui:InstancesSelectEditor ;
    shui:score -1 ;
.

shui:InstancesSelectEditorScore0 a shui:Score ;
    shui:shapesGraphShape shui:hasNotClass ;
    shui:widget shui:InstancesSelectEditor ;
    shui:score 0 ;
.

#
# shui:RichTextEditor
#
shui:RichTextEditorScore10 a shui:Score ;
    shui:dataGraphShape shui:isHTML ;
    shui:widget shui:RichTextEditor ;
    shui:score 10 ;
.

shui:RichTextEditorScore0 a shui:Score ;
    shui:dataGraphShape shui:isNotHTML ;
    shui:widget shui:RichTextEditor ;
    shui:score 0 ;
.

#
# shui:SubClassEditor
#
shui:SubClassEditorScoreNull a shui:Score ;
    shui:widget shui:SubClassEditor ;
    shui:score -1 ;
.

#
# shui:TextAreaEditor
#
shui:TextAreaEditorScore0hasSingleLineTrue a shui:Score ;
    shui:shapesGraphShape shui:hasSingleLineTrue ;
    shui:widget shui:TextAreaEditor ;
    shui:score 0 ;
.

shui:TextAreaEditorScore20 a shui:Score ;
    shui:shapesGraphShape shui:hasSingleLineFalse ;
    shui:dataGraphShape shui:isString ;
    shui:widget shui:TextAreaEditor ;
    shui:score 20 ;
.

shui:TextAreaEditorScore5 a shui:Score ;
    shui:dataGraphShape shui:isString ;
    shui:widget shui:TextAreaEditor ;
    shui:score 5 ;
.

shui:TextAreaEditorScore2 a shui:Score ;
    shui:shapesGraphShape shui:allowsString ;
    shui:widget shui:TextAreaEditor ;
    shui:score 2 ;
.

shui:TextAreaEditorScoreNull a shui:Score ;
    shui:shapesGraphShape shui:hasCustomDatatype ;
    shui:widget shui:TextAreaEditor ;
    shui:score -1 ;
.

shui:TextAreaEditorScore0Otherwise a shui:Score ;
    shui:shapesGraphShape [
        sh:not [
            sh:or (
                shui:hasSingleLineTrue
                shui:hasSingleLineFalse
                shui:allowsString
                shui:hasCustomDatatype
            )
        ]
    ] ;
    shui:dataGraphShape [
        sh:not shui:isString
    ] ;
    shui:widget shui:TextAreaEditor ;
    shui:score 0 ;
.
#
# shui:TextAreaWithLangEditor
#
shui:TextAreaWithLangEditorScore0SingleLineTrue a shui:Score ;
    shui:shapesGraphShape shui:hasSingleLineTrue ;
    shui:widget shui:TextAreaWithLangEditor ;
    shui:score 0 ;
.

shui:TextAreaWithLangEditorScore15 a shui:Score ;
    shui:shapesGraphShape shui:hasSingleLineFalse ;
    shui:dataGraphShape shui:isLangString ;
    shui:widget shui:TextAreaWithLangEditor ;
    shui:score 15 ;
.

shui:TextAreaWithLangEditorScore5isLangString a shui:Score ;
    shui:dataGraphShape shui:isLangString ;
    shui:widget shui:TextAreaWithLangEditor ;
    shui:score 5 ;
.

shui:TextAreaWithLangEditorScore5allowsLangString a shui:Score ;
    shui:shapesGraphShape shui:allowsLangString ;
    shui:widget shui:TextAreaWithLangEditor ;
    shui:score 5 ;
.

shui:TextAreaWithLangEditorScore0Otherwise a shui:Score ;
    shui:shapesGraphShape [
        sh:not [
            sh:or (
                shui:hasSingleLineTrue
                shui:hasSingleLineFalse
                shui:allowsLangString
                shui:hasCustomDatatype
            )
        ]
    ] ;
    shui:dataGraphShape [
        sh:not shui:isLangString
    ] ;
    shui:widget shui:TextAreaWithLangEditor ;
    shui:score 0 ;
.

#
# shui:TextFieldEditor
#
shui:TextFieldEditorScore10 a shui:Score ;
    shui:dataGraphShape shui:isNotLangString, shui:isNotBoolean ;
    shui:widget shui:TextFieldEditor ;
    shui:score 10 ;
.

shui:TextFieldEditorScore0isLangString a shui:Score ;
    shui:dataGraphShape shui:isLangString ;
    shui:widget shui:TextFieldEditor ;
    shui:score 0 ;
.

shui:TextFieldEditorScore0isBoolean a shui:Score ;
    shui:dataGraphShape shui:isBoolean ;
    shui:widget shui:TextFieldEditor ;
    shui:score 0 ;
.

shui:TextFieldEditorScore5 a shui:Score ;
    shui:shapesGraphShape shui:hasStringDatatype ;
    shui:widget shui:TextFieldWithLangEditor ;
    shui:score 5 ;
.

#
# shui:TextFieldWithLangEditor
#
shui:TextFieldWithLangEditorScore11isLangString a shui:Score ;
    shui:dataGraphShape shui:isLangString ;
    shui:widget shui:TextFieldWithLangEditor ;
    shui:score 11 ;
.

shui:TextFieldWithLangEditorScore11allowsBoth a shui:Score ;
    # Is this a correct interpretation of sh:hasValue semantics?
    shui:shapesGraphShape shui:allowsLangString, shui:allowsString ;
    shui:widget shui:TextFieldWithLangEditor ;
    shui:score 11 ;
.

shui:TextFieldWithLangEditorScore5 a shui:Score ;
    shui:shapesGraphShape shui:hasNotSingleLineFalse, shui:allowsLangString ;
    shui:widget shui:TextFieldWithLangEditor ;
    shui:score 5 ;
.

shui:TextFieldWithLangEditorScore0 a shui:Score ;
    shui:widget shui:TextFieldWithLangEditor ;
    shui:score 0 ;
.